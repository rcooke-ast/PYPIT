
Version 1.17.2dev
=================

Installation Changes
--------------------



Dependency Changes
------------------


Functionality/Performance Improvements and Additions
----------------------------------------------------

- The WCS for datacubes now adopts the convention of North
  is up and East is left. In previous version of PypeIt,
  East was right.
- Improved the code to compute the spatial flexure correction and added a QA
  plot to inspect the results.  Two new parset parameters, `spat_flexure_sigdetect`
  and `spat_flexure_vrange`, were added to control the detection of the slit edges
  (used to compute the flexure) and the stretching of the image in the QA plot,
  respectively.
- Setup GUI allows resizing panels when viewing pypeit files.
- Setup GUI allows selecting which detector to view when viewing raw data.
- Added backwards compatibilty for old frames taken with the Bok B&C
- The object trace can now be iterated over with the `find_numiterfit`
  parameter.

Instrument-specific Updates
---------------------------


Script Changes
--------------

- `pypeit_setup_gui` script has been removed. The Setup GUI can be started with `pypeit_setup -G`.

- Added ``pypeit_run_to_calibstep`` to run PypeIt to an input calibration
  step. This script is useful to re-generate calibration files for a given
  configuration without running the full reduction.


Datamodel Changes
-----------------



Under-the-hood Improvements
---------------------------


Bug Fixes
---------

- Fix the WCS for the datacube generation. There was an offset
  in both spatial dimensions equal to half the field of view.
- Fix the code for the extraction of the 1D flat spectrum, so that
  the spectrum is extracted even when `pixelflat_model` does not exist.
- The variance cube previously had a cubic term, and this has been changed
  to a quadratic term. This has been cross-checked with simple subpixel calculations.
- Fixes bug associated with trying to remove or add slits for reductions that
  mosaic multiple detectors.
- Fix Setup GUI sizing issues on MacOS.
- Fixed a bug with ``pypeit_identify`` when the number of echelle orders has
  more than two digits.
- Fixed bug when defining manual extraction apertures for 2D coadds of echelle
  data

