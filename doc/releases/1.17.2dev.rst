
Version 1.17.1dev
=================

Installation Changes
--------------------



Dependency Changes
------------------


Functionality/Performance Improvements and Additions
----------------------------------------------------

- The WCS for datacubes now adopts the convention of North
  is up and East is left. In previous version of PypeIt,
  East was right.
- Improved the code to compute the spatial flexure correction and added a QA
  plot to inspect the results.  Two new parset parameters, `spat_flexure_sigdetect`
  and `spat_flexure_vrange`, were added to control the detection of the slit edges
  (used to compute the flexure) and the stretching of the image in the QA plot,
  respectively.
- The spatial flexure can now take a constant value for every slit, independent values for each slit,
  or independent values for each slit edge.

Instrument-specific Updates
---------------------------


Script Changes
--------------

Datamodel Changes
-----------------

- Spatial flexure is now stored as a 2D numpy array.

Under-the-hood Improvements
---------------------------


Bug Fixes
---------

- Fix the WCS for the datacube generation. There was an offset
  in both spatial dimensions equal to half the field of view.
- Fix the code for the extraction of the 1D flat spectrum, so that
  the spectrum is extracted even when `pixelflat_model` does not exist.
- The variance cube previously had a cubic term, and this has been changed
  to a quadratic term. This has been cross-checked with simple subpixel calculations.
